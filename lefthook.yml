pre-commit:
  commands:
    hadolint:
      glob: "Dockerfile"
      run: docker run --rm -i -v "$PWD":/repo -w /repo hadolint/hadolint:latest hadolint {files}
    rubocop:
      exclude: "application.rb|routes.rb"
      run: rubocop --parallel --force-exclusion --autocorrect --fail-level A {staged_files}
    tests:
      run: rake test
