---
layout: default
title: "{{ page.Name | escape_once }}"
---

<article class="card p-6 max-w-4xl mx-auto">
  <h1 class="page-title text-center">{{ page.Name }}</h1>
  <div class="text-center mb-6">
    {% if page.Image and page.Image != "" %}
      {% assign img_path = 'assets/images/' | append: page.Image | append: '.webp' %}
      <a href="{{ img_path | relative_url }}" target="_blank">
        <img src="{{ img_path | relative_url }}" alt="{{ page.Name | escape_once }}" class="max-w-full h-auto mx-auto rounded-lg shadow-md" style="max-height: 400px; object-fit: contain;" />
      </a>
    {% endif %}
  </div>
  <div class="bg-blue-50 p-6 rounded-xl shadow-md mb-6">
    <h2 class="event-details-section-title">
      <span class="text-3xl mr-3">‚ÑπÔ∏è</span>
      Detalhes do Evento
    </h2>
    <p class="mb-2"><strong class="text-[var(--color-text-muted)]">Quando:</strong> <span class="text-[var(--color-text-muted)]">{{ page | format_event_datetime }}</span></p>
    <p class="mb-2"><strong class="text-[var(--color-text-muted)]">Onde:</strong> <span class="text-[var(--color-text-muted)]">{{ page.Location }}</span></p>
    <p class="mb-2"><strong class="text-[var(--color-text-muted)]">Organizador:</strong> <span class="text-[var(--color-text-muted)]">{{ page.Organizer }}
      {% if page.Email or page.Phone %}
        (
        {% if page.Email %}
          <a href="mailto:{{ page.Email }}" class="text-blue-600 hover:underline">{{ page.Email }}</a>{% if page.Phone %}, {{ page.Phone }}{% endif %}
        {% else %}
          {{ page.Phone }}
        {% endif %}
        )
      {% endif %}
    </span></p>
    <p class="mb-2"><strong class="text-[var(--color-text-muted)]">Pre√ßo:</strong> <span class="text-[var(--color-text-muted)]">{% if page.Price == "" or page.Price == nil %}Sem informa√ß√£o dispon√≠vel{% else %}{{ page.Price }}{% endif %}</span></p>
  </div>
  <div class="bg-green-50 p-6 rounded-xl shadow-md mb-6">
    <h2 class="event-details-section-title">
      <span class="text-3xl mr-3">üéâ</span>
       O que vai acontecer?
    </h2>
    <p class="body-text">{{ page.Description }}</p>
  </div>

  {% comment %} Display links if any are available {% endcomment %}
  {% assign has_links = false %}
  {% if page["Link 1"] and page["Link 1"] != "" %}
    {% assign has_links = true %}
  {% elsif page["Link 2"] and page["Link 2"] != "" %}
    {% assign has_links = true %}
  {% elsif page["Link 3"] and page["Link 3"] != "" %}
    {% assign has_links = true %}
  {% elsif page["Link 4"] and page["Link 4"] != "" %}
    {% assign has_links = true %}
  {% endif %}

  {% if has_links %}
  <div class="bg-gradient-to-r from-yellow-50 to-orange-50 p-6 rounded-xl shadow-md mb-6">
    <h2 class="event-details-section-title">
      <span class="text-3xl mr-3">üöÄ</span>
      Espreita tamb√©m!
    </h2>
    <div class="space-y-2">
      {% assign link_array = "Link 1,Link 2,Link 3,Link 4" | split: "," %}
      {% for link_key in link_array %}
        {% if page[link_key] and page[link_key] != "" %}
          {% assign link_url = page[link_key] %}

          <a href="{{ link_url }}" target="_blank" rel="noopener noreferrer" class="block p-2 rounded-lg hover:bg-orange-100 transition-colors duration-200 group">
            <div class="text-blue-600 hover:text-blue-800 transition-colors duration-200 break-all">
              {{ link_url }}
            </div>
          </a>
        {% endif %}
      {% endfor %}
    </div>
  </div>
  {% endif %}

  <!-- Sharing Section -->
  <div class="bg-gradient-to-r from-red-50 to-rose-50 p-6 rounded-xl shadow-md mb-6">
    <h2 class="event-details-section-title">
      <span class="text-3xl mr-3">üì§</span>
      Partilhar Evento
    </h2>
    <div class="flex flex-col sm:flex-row gap-3">
      <!-- Copy Link Button -->
      <button
        onclick="copyEventLink()"
        class="flex items-center cursor-pointer justify-center px-4 py-3 bg-[var(--color-buttons)] text-[var(--color-text-muted)] rounded-lg hover:bg-[var(--color-buttons-hover)] transition-colors duration-200 flex-1"
      >
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
        </svg>
        Copiar Link
      </button>

      <!-- Facebook Share Button -->
      <a
        href="https://www.facebook.com/sharer/sharer.php?u={{ page.url | absolute_url | url_encode }}"
        target="_blank"
        rel="noopener noreferrer"
        class="flex items-center justify-center px-4 py-3 bg-blue-600 text-[var(--color-text-muted)] hover:bg-blue-700 transition-colors duration-200 flex-1"
      >
        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
          <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
        </svg>
        Partilhar no Facebook
      </a>
    </div>

    <!-- Success Message (hidden by default) -->
    <div id="copy-success" class="mt-3 p-3 bg-green-100 text-[var(--color-text-muted)] rounded-lg hidden">
      <div class="flex items-center">
        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
        </svg>
        Link copiado com sucesso!
      </div>
    </div>
  </div>

  <div class="text-center">
    <a href="/" class="navigation-button">Voltar aos Eventos</a>
  </div>
</article>

<script>
function copyEventLink() {
  const eventUrl = window.location.href;

  if (navigator.clipboard && window.isSecureContext) {
    // Use modern clipboard API
    navigator.clipboard.writeText(eventUrl).then(function() {
      showCopySuccess();
    }).catch(function(err) {
      // Fallback to legacy method
      fallbackCopyTextToClipboard(eventUrl);
    });
  } else {
    // Fallback for older browsers or non-secure contexts
    fallbackCopyTextToClipboard(eventUrl);
  }
}

function fallbackCopyTextToClipboard(text) {
  const textArea = document.createElement("textarea");
  textArea.value = text;

  // Avoid scrolling to bottom
  textArea.style.top = "0";
  textArea.style.left = "0";
  textArea.style.position = "fixed";

  document.body.appendChild(textArea);
  textArea.focus();
  textArea.select();

  try {
    const successful = document.execCommand('copy');
    if (successful) {
      showCopySuccess();
    }
  } catch (err) {
    console.error('Fallback: Oops, unable to copy', err);
  }

  document.body.removeChild(textArea);
}

function showCopySuccess() {
  const successDiv = document.getElementById('copy-success');
  successDiv.classList.remove('hidden');

  // Hide the message after 3 seconds
  setTimeout(function() {
    successDiv.classList.add('hidden');
  }, 3000);
}
</script>

{% include aviso.html %}
